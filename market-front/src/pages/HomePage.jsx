import React, { useEffect, useState } from 'react';\nimport ImageSlider from '../compoments/ImageSlider'\nimport PopularProducts from '../compoments/PopularProducts';\nimport LocationComponent from '../compoments/LocationComponent';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchCart } from './cart/cartSlice';\nimport { useNavigate, useLocation } from 'react-router';\n\nconst HomePage = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { user } = useSelector((state) => state.account);\n  const [renderCount, setRenderCount] = useState(0);\n  \n  useEffect(() => {\n    setRenderCount(prev => prev + 1);\n    console.log(`🏠 HomePage render #${renderCount + 1}:`, {\n      user: user ? { id: user.id, role: user.role, email: user.email } : null,\n      pathname: location.pathname,\n      timestamp: new Date().toISOString()\n    });\n    \n    // Navigation tracking\n    console.log('📍 Current location:', window.location.href);\n    \n    // Sadece login olmuş kullanıcılar için cart'ı yükle\n    if (user) {\n      console.log('🏠 HomePage: Loading cart for logged user');\n      dispatch(fetchCart());\n    } else {\n      console.log('🏠 HomePage: Guest user, skipping cart load');\n    }\n  }, [user, dispatch, location.pathname, renderCount]);\n\n  // Navigation guard - HomePage'den çıkışı logla\n  useEffect(() => {\n    const unblock = () => {\n      console.log('🚪 User is leaving HomePage');\n    };\n    \n    return unblock;\n  }, []);\n   \n  return (\n    <>\n      {/* Debug info - sadece development'ta */}\n      {import.meta.env.DEV && (\n        <div style={{ \n          position: 'fixed', \n          top: '80px', \n          right: '10px', \n          background: 'rgba(0,0,0,0.8)', \n          color: 'white', \n          padding: '10px', \n          borderRadius: '4px',\n          fontSize: '12px',\n          zIndex: 9999\n        }}>\n          <div>🏠 HomePage Debug</div>\n          <div>User: {user ? '✅ Logged' : '❌ Guest'}</div>\n          <div>Renders: {renderCount}</div>\n          <div>Path: {location.pathname}</div>\n        </div>\n      )}\n      \n      <ImageSlider />\n      <PopularProducts/>\n      <LocationComponent/>\n    </>\n  );\n};\n\nexport default HomePage;