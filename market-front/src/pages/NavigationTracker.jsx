import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useLocation, useNavigate } from 'react-router';\n\nconst NavigationTracker = () => {\n  const [navigationHistory, setNavigationHistory] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n  const { user } = useSelector((state) => state.account);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Navigation history'yi takip et\n    const newEntry = {\n      timestamp: new Date().toISOString(),\n      pathname: location.pathname,\n      search: location.search,\n      user: user ? { id: user.id, role: user.role } : null,\n      userAgent: navigator.userAgent,\n      referrer: document.referrer\n    };\n    \n    setNavigationHistory(prev => [...prev.slice(-9), newEntry]); // Son 10 entry'yi tut\n    setCurrentUser(user);\n    \n    console.log('ğŸ§­ Navigation tracked:', newEntry);\n  }, [location, user]);\n\n  const clearHistory = () => {\n    setNavigationHistory([]);\n  };\n\n  const testNavigation = (path) => {\n    console.log(`ğŸ§ª Testing navigation to: ${path}`);\n    navigate(path);\n  };\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'monospace' }}>\n      <h2>ğŸ§­ Navigation Tracker</h2>\n      \n      <div style={{ marginBottom: '20px' }}>\n        <h3>Current State:</h3>\n        <div style={{ background: '#f0f0f0', padding: '10px' }}>\n          <strong>User:</strong> {currentUser ? `${currentUser.email} (${currentUser.role})` : 'Guest'}<br/>\n          <strong>Current Path:</strong> {location.pathname}<br/>\n          <strong>Search:</strong> {location.search || 'None'}<br/>\n          <strong>URL:</strong> {window.location.href}\n        </div>\n      </div>\n\n      <div style={{ marginBottom: '20px' }}>\n        <h3>Test Navigation:</h3>\n        <button onClick={() => testNavigation('/')} style={{ margin: '5px' }}>Home</button>\n        <button onClick={() => testNavigation('/products')} style={{ margin: '5px' }}>Products</button>\n        <button onClick={() => testNavigation('/login')} style={{ margin: '5px' }}>Login</button>\n        <button onClick={() => testNavigation('/register')} style={{ margin: '5px' }}>Register</button>\n        {currentUser && (\n          <>\n            <button onClick={() => testNavigation('/cart')} style={{ margin: '5px' }}>Cart</button>\n            <button onClick={() => testNavigation('/checkout')} style={{ margin: '5px' }}>Checkout</button>\n          </>\n        )}\n      </div>\n\n      <div style={{ marginBottom: '20px' }}>\n        <h3>Navigation History:</h3>\n        <button onClick={clearHistory} style={{ marginBottom: '10px' }}>Clear History</button>\n        <div style={{ maxHeight: '400px', overflow: 'auto', border: '1px solid #ccc' }}>\n          {navigationHistory.map((entry, index) => (\n            <div key={index} style={{ \n              padding: '8px', \n              borderBottom: '1px solid #eee',\n              background: index === navigationHistory.length - 1 ? '#e8f5e8' : 'white'\n            }}>\n              <strong>{entry.timestamp.split('T')[1].split('.')[0]}</strong> - \n              <code>{entry.pathname}</code>\n              {entry.user ? (\n                <span style={{ color: 'green' }}> (User: {entry.user.role})</span>\n              ) : (\n                <span style={{ color: 'red' }}> (Guest)</span>\n              )}\n              {entry.pathname !== location.pathname && (\n                <span style={{ color: 'orange' }}> â†’ Redirected</span>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div style={{ background: '#ffebee', padding: '10px', borderRadius: '4px' }}>\n        <strong>ğŸ” Debug Instructions:</strong><br/>\n        1. Bu sayfayÄ± aÃ§Ä±k tutun<br/>\n        2. Guest olarak anasayfaya gidin<br/>\n        3. Navigation history'de redirect olup olmadÄ±ÄŸÄ±nÄ± kontrol edin<br/>\n        4. Console'da redirect sebeplerini arayÄ±n\n      </div>\n    </div>\n  );\n};\n\nexport default NavigationTracker;